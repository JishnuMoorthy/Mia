{% extends "base.html" %}
{% block content %}
<h2>{% if payment %}Edit Payment{% else %}New Payment{% endif %}</h2>
<form method="post">
  <label>Invoice</label>
  <select name="invoice_id" required>
    {% for invoice in invoices %}
      <option value="{{ invoice.id }}" {% if payment and payment.invoice_id == invoice.id %}selected{% endif %}>{{ invoice.invoice_number }}</option>
    {% endfor %}
  </select>
  <label>Payment Method</label>
  <select name="payment_method">
    {% for method in methods %}
      <option value="{{ method.value }}" {% if payment and payment.payment_method == method %}selected{% endif %}>{{ method.value }}</option>
    {% endfor %}
  </select>
  <label>Amount</label>
  <input type="number" step="0.01" name="amount" value="{{ payment.amount if payment }}" required />
  <label>Status</label>
  <select name="status">
    {% for status in statuses %}
      <option value="{{ status.value }}" {% if payment and payment.status == status %}selected{% endif %}>{{ status.value }}</option>
    {% endfor %}
  </select>
  <label>Reference ID</label>
  <input type="text" name="reference_id" value="{{ payment.reference_id if payment }}" />
  <div style="margin-top:12px;">
    <button type="submit">Save</button>
  </div>
</form>
{% endblock %}
