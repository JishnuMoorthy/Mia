{% extends "base.html" %}
{% block content %}
<h2>{% if invoice %}Edit Invoice{% else %}New Invoice{% endif %}</h2>
{% if error %}<div class="error">{{ error }}</div>{% endif %}
<form method="post">
  <label>Pet</label>
  <select name="pet_id" required>
    {% for pet in pets %}
      <option value="{{ pet.id }}" {% if invoice and invoice.pet_id == pet.id %}selected{% endif %}>{{ pet.name }}</option>
    {% endfor %}
  </select>
  <label>Invoice Number</label>
  <input type="text" name="invoice_number" value="{{ invoice.invoice_number if invoice }}" required />
  <label>Total Amount</label>
  <input type="number" step="0.01" name="total_amount" value="{{ invoice.total_amount if invoice }}" required />
  <label>GST Amount</label>
  <input type="number" step="0.01" name="gst_amount" value="{{ invoice.gst_amount if invoice }}" required />
  <label>Status</label>
  <select name="status">
    {% for status in statuses %}
      <option value="{{ status.value }}" {% if invoice and invoice.status == status %}selected{% endif %}>{{ status.value }}</option>
    {% endfor %}
  </select>
  <div style="margin-top:12px;">
    <button type="submit">Save</button>
  </div>
</form>
{% endblock %}
